<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Task 3</title>
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="css/mdb.min.css" rel="stylesheet">
    <!-- Your custom styles (optional) -->
    <link href="css/style.css" rel="stylesheet">
    <script src="js/script.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
  </head>
  <body>
<div class="container">
    <div class="sleeve">
      <div class="credit-card rotate" id="Rotate">
        <div class="card-company" id="card-company">Приват банк</div>
        <div class="card-number" id="card-number">
          <div class="digit-group"><span id="cardNumber1">****</span> <span id="cardNumber2">****</span> <span id="cardNumber3">****</span> <span id="cardNumber4">****</span></div>
        </div>
        <div class="card-expire text" id="card-expire">Expires <span id="date"> **</span>/<span id="year">**</span></div>
        <div class="card-holder" id="card-holder">***** *****</div>
        <div class="card-type text"><span id="cvv">CVV <span id="cvvCode">*** </span></span><span id="imgCard"><img src="img/mastercard.png" height="35" id="mastercard"><img src="img/visa.png" height="35" id="visa"</span><!-- <button>></button> --></div>
      </div>
    </div>
    <div class="sleeve2">
      <h5 class="font-weight-bold text-muted">Credit card detail</h5>
      <div class="line mb-3"></div>
      <div class="form-group">
        <div class="d-flex">
          <input type="text" class="inputCard mr-2" id="cardNumberInput1" placeholder="Card" maxlength="4" onchange="validateNumber()">
          <input type="text" class="inputCard mr-2" id="cardNumberInput2" placeholder="Card" maxlength="4" onchange="validateNumber2()">
          <input type="text" class="inputCard mr-2" id="cardNumberInput3" placeholder="Card" maxlength="4" onchange="validateNumber3()">
          <input type="text" class="inputCard" id="cardNumberInput4" placeholder="Card" maxlength="4" onchange="validateNumber4()">
        </div>
      </div>
      <p class="">Дата закінчення дії картки</p>
       <div class="d-flex ">
        <div class="form-group mr-5">
          <select class="form-control" id="dateInput" placeholder="Date" >
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
            <option>6</option>
            <option>7</option>
            <option>8</option>
            <option>9</option>
            <option>10</option>
            <option>11</option>
            <option>12</option>
          </select>
        </div>
        <div class="form-group ml-3">
          <select class="form-control" id="yearInput" >
            <option>19</option>
            <option>20</option>
            <option>21</option>
            <option>22</option>
            <option>23</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <input type="text" class="form-control" id="cardOwnerInput" placeholder="Card Owner" maxlength="30" onchange="validateOwner()">
      </div>
      <div class="form-group">
        <input type="password" class="form-control" id="cardCVVInput" placeholder="CVV" maxlength="3" onchange="validateCVV()">
      </div>
      <button type="button" class="btn btn-success black-text text-weight-bold w-100" onclick="alert('В розробці =)')">Відправити дані на сервер</button>
    </div>
</div>
<script>
$('#cardNumberInput1').on('input', function() {
  var number1 = document.getElementById('cardNumberInput1').value;
  var visa = document.getElementById('visa');
  var mastercard = document.getElementById('mastercard');
  if (number1.match(/[а-я,А-я,a-z,A-z]/g)){
    alert("Введіть будьласка тільки цифри");
    $('#cardNumberInput1').val('');
    $('#cardNumber1').html('****');
  }
  else{
    document.getElementById('cardNumber1').innerHTML = number1;
    // document.getElementById('cardNumber1').replaceWith(number1);
  if (number1[0] == 4){
    visa.style.display = "inline";
    mastercard.style.display = "none";
  }
  else if (number1[0] == 5){
    mastercard.style.display = "inline";
    visa.style.display = "none";
  }
  else{
    mastercard.style.display = "none";
    visa.style.display = "none";
  }
  }
});
$('#cardNumberInput2').on('input', function() {
  var number2 = document.getElementById('cardNumberInput2').value;
  if (number2.match(/[а-я,А-я,a-z,A-z]/g)){
    alert("Введіть будь ласка тільки цифри");
    $('#cardNumberInput2').val('');
    $('#cardNumber2').html('****');
  }  
  else{
    document.getElementById('cardNumber2').innerHTML = number2;
  }
});
$('#cardNumberInput3').on('input', function() {
  var number3 = document.getElementById('cardNumberInput3').value;
  if (number3.match(/[а-я,А-я,a-z,A-z]/g)){
    alert("Введіть будьласка тільки цифри");
    $('#cardNumberInput3').val('');
    $('#cardNumber3').html('****');
  }  
  else{
  document.getElementById('cardNumber3').innerHTML = number3;}
});
$('#cardNumberInput4').on('input', function() {
  var number4 = document.getElementById('cardNumberInput4').value;
  if (number4.match(/[а-я,А-я,a-z,A-z]/g)){
    alert("Введіть будь ласка тільки цифри");
    $('#cardNumberInput4').val('');
    $('#cardNumber4').html('****');
  }  
  else{
  document.getElementById('cardNumber4').innerHTML = number4;
}
});
$('#dateInput').on('input', function() {
  var number1 = document.getElementById('dateInput').value;
  document.getElementById('date').innerHTML = number1;
});
$('#yearInput').on('input', function() {
  var number1 = document.getElementById('yearInput').value;
  document.getElementById('year').innerHTML = number1;
});
$('#cardOwnerInput').on('input', function() {
  var number3 = document.getElementById('cardOwnerInput').value;
  if (number3.match(/[0-9]/g)){
    alert("Введіть будь ласка тільки букви");
    $('#cardOwnerInput').val('');
  }  
  else{
  document.getElementById('card-holder').innerHTML = number3;
  }
});
//CVV
$('#cardCVVInput').on('input', function() {
  document.getElementById('card-number').style.display = 'none';
  document.getElementById('card-expire').style.display = 'none';
  document.getElementById('card-holder').style.display = 'none';
  document.getElementById('cvv').style.display = 'inline';
  document.getElementById('imgCard').style.display = 'none';
  document.getElementById('Rotate').style.transform = "rotateY(180deg)";
  document.getElementById('Rotate').style.transition  = "all 1.5s";
  var number = document.getElementById('cardCVVInput').value;
  if (number.match(/[а-я,А-я,a-z,A-z]/g)){
    alert("Введіть будь ласка тільки цифри");
    $('#cardCVVInput').val('');
  }  
  else{
  document.getElementById('cvvCode').innerHTML = number;
}
});

function validateNumber(){
  var number1 = document.getElementById('cardNumberInput1');
  if (number1.value.length < 4){
    $('#cardNumberInput1').val('');
    $('#cardNumber1').html('****');
  }
}
function validateNumber2(){
  var number1 = document.getElementById('cardNumberInput2');
  if (number1.value.length < 4){
    $('#cardNumberInput2').val('');
    $('#cardNumber2').html('****');
  }
}
function validateNumber3(){
  var number1 = document.getElementById('cardNumberInput3');
  if (number1.value.length < 4){
    $('#cardNumberInput3').val('');
    $('#cardNumber3').html('****');
  }
}
function validateNumber4(){
  var number1 = document.getElementById('cardNumberInput4');
  if (number1.value.length < 4){
    $('#cardNumberInput4').val('');
    $('#cardNumber4').html('****');
  }
}
function validateOwner(){
  var owner = document.getElementById('cardOwnerInput');
  if (owner.value.length < 4){
    alert("Введіть будь ласка достатню кількість букв");
    $('#cardOwnerInput').val('');
    $('#cardOwner').html('****');
  }
}
function validateCVV(){
  var owner = document.getElementById('cardCVVInput');
    document.getElementById('Rotate').style.transform = "rotateY(360deg)";
  document.getElementById('Rotate').style.transition  = "all 1.5s";
  document.getElementById('card-number').style.display = 'flex';
  document.getElementById('card-expire').style.display = 'flex';
  document.getElementById('card-holder').style.display = 'flex';
  document.getElementById('cvv').style.display = 'none';
  document.getElementById('imgCard').style.display = 'inline';

  if (owner.value.length < 3){
    alert("Введіть будь ласка достатню кількість цифр");
    $('#cardCVVInput').val('');
    $('#cvvCode').html('***');
  }
}
</script>
  </body>
</html>
